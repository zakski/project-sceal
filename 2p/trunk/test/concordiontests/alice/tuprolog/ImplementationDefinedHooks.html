<html xmlns:concordion="http://www.concordion.org/2007/concordion"
	xmlns:ext="urn:concordion-extensions:2010">
<link href="../../concordion.css" rel="stylesheet" type="text/css" />

<head>
<title>Implementation defined hooks</title>
</head>

<body>

	<h1>Implementation defined hooks</h1>

	<p>This predicate enables a program to find the current value for
		any flag, and to change the current value of some flags.</p>

	<p>
		Whatever happens when a processor executes the predicates
		<code>halt/0</code>
		and
		<code>halt/1</code>
		is completely implementation dependent.
	</p>

	<h2>
		1.
		<code>set_prolog_flag/2</code>
	</h2>

	<p>
		A goal
		<code>set_prolog_flag(Flag, Value)</code>
		enables the value associated with a Prolog flag to be altered.
	</p>

	<p>Templates and modes for the predicate are as follows:</p>
	<pre>
set_prolog_flag(+flag, @nonvar)
</pre>

	<h3>1.1 Example tests</h3>

	<p>Let's start with some tests verifying success or failure of
		single goals.</p>

	<table concordion:execute="#result = success(#goal,#theory)">
		<tr>
			<th concordion:set="#goal">Goal</th>
			<th concordion:set="#theory">Theory</th>
			<th concordion:assertFalse="#result">success(String goal,String
				theory)</th>
		</tr>
		<tr>
			<td>set_prolog_flag(unknown, fail).</td>
			<td>null</td>
			<td>false</td>
		</tr>
	</table>


	<p>The remaining tests cover the cases when an error or exception
		is thrown by the engine while solving a query.</p>

	<p>Tests With Exception</p>

	<table
		concordion:execute="#result = successWithException(#goal,#theory)">
		<tr>
			<th concordion:set="#goal">Goal</th>
			<th concordion:set="#theory">Theory</th>
			<th concordion:assertTrue="#result">success(String goal)</th>
			<th ext:embed="successWithExceptionAndText(#goal,#theory)">Type
				Of Error</th>
		</tr>
		<tr>
			<td>set_prolog_flag(X, off).</td>
			<td>null</td>
			<td>true</td>
			<td></td>
		</tr>
		<tr>
			<td>set_prolog_flag(5, decimals).</td>
			<td>null</td>
			<td>true</td>
			<td></td>
		</tr>
		<tr>
			<td>set_prolog_flag(date, 'July 1988').</td>
			<td>null</td>
			<td>true</td>
			<td></td>
		</tr>
		<tr>
			<td>set_prolog_flag(debug, trace).</td>
			<td>null</td>
			<td>true</td>
			<td></td>
		</tr>


	</table>

	<h2>
		2.
		<code>current_prolog_flag/2</code>
	</h2>

	<p>
		<code>current_prolog_flag(Flag, Value)</code>
		is true iff
		<var>Flag</var>
		is a flag supported by the processor, and
		<var>Value</var>
		is the value currently associated with it.
	</p>

	<p>Templates and modes for the predicate are as follows:</p>
	<pre>
current_prolog_flag(?flag, ?term)
</pre>

	<p>
		<code>current_prolog_flag(Flag, Value)</code>
		is re-executable.
	</p>

	<h3>2.1 Example tests</h3>

	<p>Let's start with some tests verifying success or failure of
		single goals.</p>

	<table concordion:execute="#result = success(#goal,#theory)">
		<tr>
			<th concordion:set="#goal">Goal</th>
			<th concordion:set="#theory">Theory</th>
			<th concordion:assertTrue="#result">success(String goal,String
				theory)</th>
		</tr>
		<tr>
			<td>current_prolog_flag(debug, off).</td>
			<td>null</td>
			<td>true</td>
		</tr>


	</table>

	<br />
	<table concordion:execute="#result = success(#goal,#theory)">
		<tr>
			<th concordion:set="#goal">Goal</th>
			<th concordion:set="#theory">Theory</th>
			<th concordion:assertFalse="#result">success(String goal,String
				theory)</th>
		</tr>
		<tr>
			<td>current_prolog_flag(F, V).</td>
			<td>null</td>
			<td>false</td>
		</tr>
	</table>

	<p>Tests With Exception</p>

	<table
		concordion:execute="#result = successWithException(#goal,#theory)">
		<tr>
			<th concordion:set="#goal">Goal</th>
			<th concordion:set="#theory">Theory</th>
			<th concordion:assertTrue="#result">success(String goal)</th>
			<th ext:embed="successWithExceptionAndText(#goal,#theory)">Type
				Of Error</th>
		</tr>
		<tr>
			<td>current_prolog_flag(5, _).</td>
			<td>null</td>
			<td>true</td>
			<td></td>
		</tr>


	</table>


</body>
</html>